<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Processor Practical | Matthijs Muis</title> <meta name="author" content="Matthijs Muis"> <meta name="description" content="A CPU design in Digital. It is based on RUN2223 CPU, a 32-bit CPU designed specifically for the course Processors."> <meta name="keywords" content="Undergraduate student Mathematics, Computer Science, Radboud University Nijmegen, Portfolio, Teaching, Blog"> <meta property="og:site_name" content="Matthijs Muis"> <meta property="og:type" content="website"> <meta property="og:title" content="Matthijs Muis | Processor Practical"> <meta property="og:url" content="https://matthijsmu.github.io/projects/processor_practical/"> <meta property="og:description" content="A CPU design in Digital. It is based on RUN2223 CPU, a 32-bit CPU designed specifically for the course Processors."> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Processor Practical"> <meta name="twitter:description" content="A CPU design in Digital. It is based on RUN2223 CPU, a 32-bit CPU designed specifically for the course Processors."> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://matthijsmu.github.io/projects/processor_practical/"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Matthijs </span>Muis</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"></a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Research</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/publications/">Publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/projects/">Projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/blog/">Blog</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/repositories/">Repositories</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Teaching</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/teaching/">University Courses</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/bijles/">Bijles (NL)</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/art/">Art</a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Processor Practical</h1> <p class="post-description">A CPU design in Digital. It is based on RUN2223 CPU, a 32-bit CPU designed specifically for the course Processors.</p> </header> <article> <p>A CPU design in Digital. It is based on RUN2223 CPU, a 32-bit CPU designed specifically for the course Processors. In the practical assignment for this course, our task was to create an implementation of the RUN2223 CPU in Digital, according to the specifications in the included manual.</p> <p>You can find the repository and a gallery of all beautiful components at the bottom of the article</p> <h2 id="what-we-did">What we did</h2> <p>Bram Weessies and I received:</p> <ol> <li>A manual which described, on a high level: <ul> <li>a specification of the input and output interfaces of the RUN2223 CPU, which enables it to communicate with the rest of the computer</li> <li>a description of the instruction cycle of the CPU</li> <li>a general overview of the architecture of the CPU, and how it is divided into subcomponents</li> <li>a specification of the assembly language instructions, and the corresponding machine codes, of the RUN2223 CPU Occasionally, the descriptions in this manual were deliberately incomplete. In these cases it was up to us to make sensible design choices.</li> </ul> </li> <li>A “template”, which was basically a zipped folder containing: <ul> <li>.dig files for the components of the computer other than the CPU.</li> <li>a subdirectory containing empty files we should use to build the subcomponents of the processor in. We were not allowed to change the structure of these files.</li> </ul> </li> </ol> <p>We did not get a “recipe” for designing the components, the only requirement and guideline was to build a processor out of “sensible” subcomponents that would implement the Instruction Set Architecture (ISA) of the RUN2223 CPU as given in the manual. So we designed:</p> <ul> <li>the ALU, with subcomponents for: <ul> <li>Shiftleft, Rotateleft, Shiftright, Rotateright</li> </ul> </li> <li>the Flag Register Bank (containing flag registers for conditions)</li> <li>the Register Bank</li> <li>the Instruction Decoder</li> <li>the Tester, which tested conditions based on the contents of the flag registers.</li> </ul> <hr> <h2 id="the-repository">The repository</h2> <div class="repositories d-flex flex-wrap flex-md-row flex-column justify-content-between align-items-center"> <div class="repo p-2 text-center"> <a href="https://github.com/MatthijsMu/processor_practical" rel="external nofollow noopener" target="_blank"> <img class="repo-img-light w-100" alt="MatthijsMu/processor_practical" src="https://github-readme-stats.vercel.app/api/pin/?username=MatthijsMu&amp;repo=processor_practical&amp;theme=default&amp;show_owner=false"> <img class="repo-img-dark w-100" alt="MatthijsMu/processor_practical" src="https://github-readme-stats.vercel.app/api/pin/?username=MatthijsMu&amp;repo=processor_practical&amp;theme=dark&amp;show_owner=false"> </a> </div> </div> <hr> <h2 id="how-to-set-up">How to set up</h2> <p>To view the CPU design, you need to install the digital circuit design tool <em>Digital</em>. It is completely open-source and can be installed from the github page <a href="https://github.com/hneemann/Digital" rel="external nofollow noopener" target="_blank">here</a>.</p> <p>To simulate the computer circuit (of which our CPU is a major component) in Digital:</p> <ol> <li>Start up digital, which you can do by running <em>Digital.sh</em> as a program in the installation folder of Digital.</li> <li>Open <em>Computer.dig</em>.</li> <li>Load one of the included (machine code) programs, such as <em>clear_screen.hex</em> or (recommended), by going to the navbar of Digital and selecting <em>Edit -&gt; Circuit Specific Settings -&gt; Advanced tab</em> and ticking the box <em>Preload program memory at startup</em>, and then selecting one of the <em>.hex</em> files included in the folder <em>tools-and-examples</em>.</li> <li>Click the <em>white</em> play button with <em>no</em> additional markings (the other two play buttons are for testing or single-step simulation) in the top bar of Digital. This should start the simulation.</li> </ol> <p>To view subcomponents, you can simply open the other files, or select components and click “open circuit” in the component menu.</p> <hr> <h2 id="gallery">Gallery</h2> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/processor-gallery/cpu_full.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Full CPU" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The complete CPU, showing all submodules and their wiring. </div> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/processor-gallery/alu.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="ALU" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-4 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/processor-gallery/decoder.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Instruction Decoder" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: the ALU (Arithmetic Logic Unit). Right: the Instruction Decoder. </div> <div class="row justify-content-sm-center"> <div class="col-sm-4 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/processor-gallery/flagregbank.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Flag Register Bank" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/processor-gallery/register-bank.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Register Bank" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: the Flag Register Bank. Right: the Register Bank. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/processor-gallery/tester.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Tester" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The Tester. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/processor-gallery/full_computer.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Full Computer" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The entire computer, of which the RUN2223 CPU is the central component. </div> </article> </div> </div> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2023 Matthijs Muis. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: September 22, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js"></script> <script defer src="/assets/js/common.js"></script> <script defer src="/assets/js/copy_code.js" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>